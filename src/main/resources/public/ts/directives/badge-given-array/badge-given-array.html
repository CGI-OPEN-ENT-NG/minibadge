<div class="given-array">
    <div class="flex-row align-center given-array-head">
        <div class="given-array-cell flex-row flex-one justify-center "
             ng-click="vm.onClick('minibadge.given.sort.label')">
            <i18n>minibadge.given.array.label</i18n>
            <i ng-show="vm.isAsc  && vm.label === 'minibadge.given.sort.label'" class="sort-arrow-down"></i>
            <i ng-show="!vm.isAsc  && vm.label === 'minibadge.given.sort.label'" class="sort-arrow-up"></i>
        </div>
        <div class="given-array-cell flex-row flex-one  justify-center">
            <i18n>minibadge.given.array.owner</i18n>
        </div>
        <div class="mobile-disabled given-array-cell flex-row flex-one  justify-center"
             ng-click="vm.onClick('minibadge.given.sort.date')">
            <i18n>minibadge.given.array.date</i18n>

            <i ng-show="vm.isAsc  && vm.label === 'minibadge.given.sort.date'" class="sort-arrow-down"></i>
            <i ng-show="!vm.isAsc  && vm.label === 'minibadge.given.sort.date'" class="sort-arrow-up"></i>
        </div>
        <div class="given-array-cell flex-row flex-one  justify-center"
             ng-click="vm.onClick('minibadge.given.sort.revoked')">
            <i18n>minibadge.given.array.revoked</i18n>


            <i ng-show="vm.isAsc && vm.label === 'minibadge.given.sort.revoked'" class="sort-arrow-down"></i>
            <i ng-show="!vm.isAsc  && vm.label === 'minibadge.given.sort.revoked'" class="sort-arrow-up"></i>
        </div>
    </div>
    <div class="given-array-row flex-row align-center" ng-repeat="badgeGiven in vm.badgesGiven">
        <div class="given-array-cell flex-row flex-one  justify-center">
            <div class="flex-row align-center given-array-img">
                <img ng-src="/minibadge/public/img/[[badgeGiven.badge.badgeType.pictureId]]"/>
            </div>
            <div class="flex-row align-center">
                [[badgeGiven.badge.badgeType.label]]
            </div>
        </div>
        <div class="given-array-cell flex-row flex-one justify-center">
            [[badgeGiven.badge.owner.firstName]] [[badgeGiven.badge.owner.lastName]]
        </div>
        <div class="mobile-disabled given-array-cell flex-row flex-one justify-center given-array-elem">
            <span ng-bind="badgeGiven.createdAt | date:vm.DATE_FORMAT.DAY_MONTH_YEAR_KEBAB"></span>
        </div>
        <div class="given-array-cell flex-row flex-one justify-center">
            <span ng-show="badgeGiven.revokedAt" class="given-array-revoked"><i18n>minibadge.revoked</i18n></span>
            <span ng-show="!badgeGiven.revokedAt" class="given-array-trash"
                  ng-click="vm.openRevokeLightbox(badgeGiven)"><i class="trash"></i></span>
        </div>
    </div>
    <lightbox show="vm.isOpenLightbox" on-close="vm.closeLightbox()" class="minibadge-revoke">
        <div class="minibadge-container flex-row f-column">
            <h2 class="minibadge-assign-title" ng-click="vm.closeLightbox()">
                <i18n>minibadge.given.lightbox.title</i18n>
            </h2>
            <div class="flex-row minibadge-assign-content">
                <i18n>minibadge.given.lightbox.label</i18n>
            </div>
            <div class="minibadge-assign-footer flex-row justify-end">
                <button class="minibadge-delete-button"
                        ng-click="vm.closeLightbox()">
                    <i18n>minibadge.cancel</i18n>
                </button>
                <button ng-click="vm.validRevoke()">
                    <i18n>minibadge.given.lightbox.confirm</i18n>
                </button>
            </div>
        </div>
    </lightbox>
</div>
